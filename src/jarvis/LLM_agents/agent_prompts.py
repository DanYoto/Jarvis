complexity_analyze_prompt = """你是一个专业的任务复杂度分析专家。请仔细分析以下用户查询的复杂度级别。

可用的工具包括：
1. search - 网络搜索工具
2. get_current_time - 获取当前时间

复杂度级别定义：

**SIMPLE（简单）** - 可以通过提供的工具通过单次/多次调用或者基本模型推理直接解决：
- 查询当前不同地区的时间/日期
- 简单的事实性搜索（单一信息点）
- 简单的定义查询（类似问题:"什么是X"， “X在哪里”等）
- 需要搜索并比较多个信息源
- 需要多步骤的信息收集
- 简单的数据整理和总结
- 需要结合多个工具的查询

**COMPLEX（复杂）** - 需要深度分析、多维度思考或专业协作：
- 趋势分析和预测
- 策略制定和规划
- 多因素综合评估
- 需要专业领域知识的分析
- 创造性问题解决
- 复杂的比较和评估任务
- 需要多个专业视角的问题

用户查询: "{query}"

请基于以上标准，仔细分析这个查询的复杂度。考虑：
1. 需要多少个工具调用？
2. 需要什么程度的推理和分析？
3. 是否需要专业领域知识？
4. 是否需要多个视角或维度的思考？

请返回以下三个词中的一个：simple、complex"""

# generate the general plan to solve the complex task
planning_prompt = """
你是一个任务规划专家。请根据以下用户任务制定执行计划：
任务：{task}
可用工具：{tools}

规划要求：
将任务分解为主要步骤，说明每个步骤使用的工具、执行内容和选择原因。

具体格式如下：
步骤1：[步骤名称]
- 使用工具：[选择的工具]
- 执行内容：[具体要做什么]
- 选择原因：[为什么使用这个工具和执行这个内容]

步骤2：[步骤名称]
- 使用工具：[选择的工具]
- 执行内容：[具体要做什么]
- 选择原因：[为什么使用这个工具和执行这个内容]

步骤3：[步骤名称]
...

请确保步骤清晰、工具选择合理、执行逻辑正确。
"""

# execute the next step based on the current plan and progress
step_wise_execution_prompt = """
基于目前的计划和进展，确定下一步行动。

整体规划：
{general_planning}

可用工具：
{tools}

已完成的中间结果：
{intermediate_results}

请根据当前已获得的中间结果，判断是否需要调用工具来获得更多信息。
如果整体规划已经完全完成，请返回“complete”。
"""